<div class='actions'>
  {{#if isManaging}}
    <button class='bigadd' {{action (perform save)}}>{{fa-icon (if save.isRunning 'spinner' 'check') spin=(if save.isRunning true false)}}</button>
    <button disabled={{save.isRunning}} class='bigcancel' {{action setIsManaging false}}>{{fa-icon 'undo'}}</button>
  {{else if isManagable}}
    <button class='manage' {{action setIsManaging true}}>{{fa-icon 'edit'}}</button>
  {{/if}}
</div>
<div class='item'>
  <label>{{t 'general.firstName'}}:</label>
  {{#unless isManaging}}
    <span class='value'>{{user.firstName}}</span>
  {{else}}
    {{one-way-input
      value=firstName
      update=(action (mut firstName))
      onenter=(perform save)
      onescape=(action setIsManaging false)
      focusOut=(action 'addErrorDisplayFor' 'firstName')
    }}
    {{#if (and (v-get this 'firstName' 'isInvalid') (is-in showErrorsFor 'firstName'))}}
      <span class="message error">{{v-get this 'firstName' 'message'}}</span>
    {{/if}}
  {{/unless}}
</div>
<div class='item'>
  <label>{{t 'general.middleName'}}:</label>
  {{#unless isManaging}}
    <span class='value'>{{user.middleName}}</span>
  {{else}}
    {{one-way-input
      value=middleName
      update=(action (mut middleName))
      onenter=(perform save)
      onescape=(action setIsManaging false)
      focusOut=(action 'addErrorDisplayFor' 'middleName')
    }}
    {{#if (and (v-get this 'middleName' 'isInvalid') (is-in showErrorsFor 'middleName'))}}
      <span class="message error">{{v-get this 'middleName' 'message'}}</span>
    {{/if}}
  {{/unless}}
</div>
<div class='item'>
  <label>{{t 'general.lastName'}}:</label>
  {{#unless isManaging}}
    <span class='value'>{{user.lastName}}</span>
  {{else}}
    {{one-way-input
      value=lastName
      update=(action (mut lastName))
      onenter=(perform save)
      onescape=(action setIsManaging false)
      focusOut=(action 'addErrorDisplayFor' 'lastName')
    }}
    {{#if (and (v-get this 'lastName' 'isInvalid') (is-in showErrorsFor 'lastName'))}}
      <span class="message error">{{v-get this 'lastName' 'message'}}</span>
    {{/if}}
  {{/unless}}
</div>
<div class='item'>
  <label>{{t 'general.campusId'}}:</label>
  {{#unless isManaging}}
    <span class='value'>{{user.campusId}}</span>
  {{else}}
    {{one-way-input
      value=campusId
      update=(action (mut campusId))
      onenter=(perform save)
      onescape=(action setIsManaging false)
      focusOut=(action 'addErrorDisplayFor' 'campusId')
    }}
    {{#if (and (v-get this 'campusId' 'isInvalid') (is-in showErrorsFor 'campusId'))}}
      <span class="message error">{{v-get this 'campusId' 'message'}}</span>
    {{/if}}
  {{/unless}}
</div>
<div class='item'>
  <label>{{t 'general.otherId'}}:</label>
  {{#unless isManaging}}
    <span class='value'>{{user.otherId}}</span>
  {{else}}
    {{one-way-input
      value=otherId
      update=(action (mut otherId))
      onenter=(perform save)
      onescape=(action setIsManaging false)
      focusOut=(action 'addErrorDisplayFor' 'otherId')
    }}
    {{#if (and (v-get this 'otherId' 'isInvalid') (is-in showErrorsFor 'otherId'))}}
      <span class="message error">{{v-get this 'otherId' 'message'}}</span>
    {{/if}}
  {{/unless}}
</div>
<div class='item'>
  <label>{{t 'general.email'}}:</label>
  {{#unless isManaging}}
    <span class='value'>{{user.email}}</span>
  {{else}}
    {{one-way-input
      value=email
      update=(action (mut email))
      onenter=(perform save)
      onescape=(action setIsManaging false)
      focusOut=(action 'addErrorDisplayFor' 'email')
    }}
    {{#if (and (v-get this 'email' 'isInvalid') (is-in showErrorsFor 'email'))}}
      <span class="message error">{{v-get this 'email' 'message'}}</span>
    {{/if}}
  {{/unless}}
</div>
<div class='item'>
  <label>{{t 'general.phone'}}:</label>
  {{#unless isManaging}}
    <span class='value'>{{user.phone}}</span>
  {{else}}
    {{one-way-input
      value=phone
      update=(action (mut phone))
      onenter=(perform save)
      onescape=(action setIsManaging false)
      focusOut=(action 'addErrorDisplayFor' 'phone')
    }}
    {{#if (and (v-get this 'phone' 'isInvalid') (is-in showErrorsFor 'phone'))}}
      <span class="message error">{{v-get this 'phone' 'message'}}</span>
    {{/if}}
  {{/unless}}
</div>
