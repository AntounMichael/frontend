<section id='programyears' class='detail-block'>
  <div class='detail-title'>
    {{t 'general.programYears'}} ({{programYears.length}})
  </div>

  <div class='detail-actions'>
    {{expand-collapse-button value=editorOn action="toggleEditor"}}
  </div>

  <section class='resultslist'>
    {{#if editorOn}}
      <div class="programyear-select-container">
        <div class="programyear-select">
          {{#ui-select showPlaceholderAsOption=false placeholder=placeholder on-select="changeSelection" value=value items=availableAcademicYears as |item|}}
            {{#ui-option value=item}}
              {{item.label}}
            {{/ui-option}}
          {{/ui-select}}
        </div>

        <span class='programyear-action'>
          <button class="programyear-save" title='{{t "general.save"}}' {{action 'save'}}>{{fa-icon 'check'}}</button>
          <button class="programyear-cancel" title='{{t "general.cancel"}}' {{action 'cancel'}}>{{fa-icon 'undo'}}</button>
        </span>
      </div>
    {{/if}}

    {{#if sortedContent.length}}
      <div class='resultslist-list'>
        <table>
          <thead>
            <tr>
              <th class='text-left'>{{t 'programs.matriculationYear'}}</th>
              <th class='text-left' >{{t 'general.cohort'}}</th>
              <th class='text-left' >{{t 'general.competencies'}}</th>
              <th class='text-left' >{{t 'general.objectives'}}</th>
              <th class='text-left' >{{t 'general.directors'}}</th>
              <th class='text-left' >{{t 'general.topics'}}</th>
              <th class='text-center' >{{t 'general.status'}}</th>
              <th class='text-center' >{{t 'general.actions'}}</th>
            </tr>
          </thead>
          <tbody>
            {{#each sortedContent as |programYear|}}
              <tr>
                <td class='text-left'>
                  {{#link-to 'programYear.index' program programYear}}
                    {{fa-icon 'external-link-square'}} {{programYear.academicYear}}
                  {{/link-to}}
                </td>
                <td class='text-left'>{{programYear.cohort.displayTitle}}</td>

                <td class='text-left'>
                  {{#if programYear.competencies.length}}
                    {{programYear.competencies.length}}
                  {{else}}
                    {{fa-icon 'warning' classNames='warning'}}
                  {{/if}}
                </td>
                <td class='text-left'>
                  {{#if programYear.objectives.length}}
                    {{programYear.objectives.length}}
                  {{else}}
                    {{fa-icon 'warning' classNames='warning'}}
                  {{/if}}
                </td>
                <td class='text-left'>
                  {{#if programYear.directors.length}}
                    {{programYear.directors.length}}
                  {{else}}
                    {{fa-icon 'warning' classNames='warning'}}
                  {{/if}}
                </td>
                <td class='text-left'>
                  {{#if programYear.topics.length}}
                    {{programYear.topics.length}}
                  {{else}}
                    {{fa-icon 'warning' classNames='warning'}}
                  {{/if}}
                </td>

                <td class='text-center'>{{publication-status item=programYear showIcon=false}}</td>
                <td class='text-center'>
                  {{#link-to 'programYear.index' program programYear class="program-year-link"}}{{fa-icon 'edit'}}{{/link-to}}
                  <span class='clickable remove' {{action 'remove' programYear}}>{{fa-icon 'trash'}}</span>
                </td>
              </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
    {{else}}
      {{t 'programs.noProgramYears'}}
    {{/if}}
  </section>
</section>
