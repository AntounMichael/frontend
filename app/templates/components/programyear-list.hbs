<section id='programyears' class='detail-block'>
  <div class='detail-title'>
    {{t 'general.programYears'}} ({{programYears.length}})
  </div>

  <div class='detail-actions'>
    {{expand-collapse-button value=editorOn action="toggleEditor"}}
  </div>

  <section class='resultslist'>
    {{#liquid-if editorOn class='vertical'}}
      {{new-programyear availableAcademicYears=availableAcademicYears save='save' cancel='cancel'}}
    {{/liquid-if}}

    {{#if saved}}
      <div class='saved-result'>
        {{#link-to 'programYear.index' program savedProgramYear}}
          {{fa-icon 'external-link-square'}} {{savedProgramYear.academicYear}}
        {{/link-to}}
        {{t 'general.savedSuccessfully'}}
      </div>
    {{/if}}

    {{#if sortedContent.length}}
      <div class='resultslist-list'>
        <table>
          <thead>
            <tr>
              <th class='text-left'>{{t 'programs.matriculationYear'}}</th>
              <th class='text-left' >{{t 'general.cohort'}}</th>
              <th class='text-left' >{{t 'general.competencies'}}</th>
              <th class='text-left' >{{t 'general.objectives'}}</th>
              <th class='text-left' >{{t 'general.directors'}}</th>
              <th class='text-left' >{{t 'general.topics'}}</th>
              <th class='text-center' >{{t 'general.status'}}</th>
              <th class='text-center' >{{t 'general.actions'}}</th>
            </tr>
          </thead>
          <tbody>
            {{#each proxiedProgramYears as |programYear|}}
              <tr class="{{if programYear.showRemoveConfirmation 'confirm-removal'}}">
                <td class='text-left'>
                  {{#link-to 'programYear.index' program programYear}}
                    {{fa-icon 'external-link-square'}} {{programYear.academicYear}}
                  {{/link-to}}
                </td>
                <td class='text-left'>{{programYear.cohort.displayTitle}}</td>

                <td class='text-left'>
                  {{#if programYear.competencies.length}}
                    {{programYear.competencies.length}}
                  {{else}}
                    {{fa-icon 'warning' classNames='warning'}}
                  {{/if}}
                </td>
                <td class='text-left'>
                  {{#if programYear.objectives.length}}
                    {{programYear.objectives.length}}
                  {{else}}
                    {{fa-icon 'warning' classNames='warning'}}
                  {{/if}}
                </td>
                <td class='text-left'>
                  {{#if programYear.directors.length}}
                    {{programYear.directors.length}}
                  {{else}}
                    {{fa-icon 'warning' classNames='warning'}}
                  {{/if}}
                </td>
                <td class='text-left'>
                  {{#if programYear.topics.length}}
                    {{programYear.topics.length}}
                  {{else}}
                    {{fa-icon 'warning' classNames='warning'}}
                  {{/if}}
                </td>

                <td class='text-center'>{{publication-status item=programYear showIcon=false}}</td>
                <td class='text-center'>
                  {{#link-to 'programYear.index' program programYear class="program-year-link"}}{{fa-icon 'edit'}}{{/link-to}}
                  <span class="clickable trash {{if programYear.showRemoveConfirmation 'confirm-removal'}}" {{action 'remove' programYear}}>{{fa-icon 'trash'}}</span>
                </td>
              </tr>

              {{#if programYear.showRemoveConfirmation}}
                <tr class='confirm-removal'>
                  <td colspan=8>
                    <div class='confirm-message'>
                      {{t 'programs.confirmRemove' courseCount=program.courseCount}} <br />
                      <div class="confirm-buttons">
                        <button {{action 'confirmRemove' programYear}} class='remove text'>{{t 'general.yes'}}</button>
                        <button {{action 'cancelRemove' programYear}} class='done text'>{{t 'general.cancel'}}</button>
                      </div>
                    </div>
                  </td>
                </tr>
              {{/if}}
            {{/each}}
          </tbody>
        </table>
      </div>
    {{else}}
      <span class="default-message">{{t 'programs.noProgramYears'}}</span>
    {{/if}}
  </section>
</section>
